<!doctype html>
<html lang="es" xmls:th="http://thymeleaf.org">
  <head>
	<div th:replace="template/header :: header"></div>
  </head>
  <body>
	  <div class="site-wrapper">
	  	<div th:replace="template/navbar :: navbar"></div>
		<div class="container">
		    <h1>Citas</h1>
			<div class="row">
				<div class="col mx-auto">
					<table class="table">
						<thead>
							<tr>
								<th>ID</th>
								<th>Fecha</th>
								<th>Hora</th>
								<th>Cliente</th>
								<th>Servicio</th>
								<th>Estado</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="cita: ${citas}">
								<td th:text="${cita.id}"></td>
								<td th:text="${cita.date}"></td>
								<td th:text="${cita.time}"></td>
								<td th:text="${cita.cliente}"></td>
								<td th:text="${cita.servicio}"></td>
								<td th:text="${cita.estado}"></td>
								<td>
									<a class="btn btn-info btn-sm" th:href="@{'/citas/detalle/'+${cita.id}}">Detalle</a>
									<a th:if="${cita.estado} == 'PENDIENTE'" class="btn btn-success btn-sm" th:href="@{'/citas/actualizar/'+ ${cita.id} + '/COMPLETADO'}">Completado</a>
									<a th:if="${cita.estado} == 'COMPLETADO'" class="btn btn-warning btn-sm" th:href="@{'/citas/actualizar/'+ ${cita.id} + '/PENDIENTE'}">Pendiente</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	  </div>
  </body>
</html>